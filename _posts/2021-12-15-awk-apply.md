---
layout: post
title: awk的应用场景
categories: [性能优化]
tags: [性能优化]
---

# 背景
偶然看到一篇性能优化博客,里面记录了awk统计了小时内每分钟的平均调用时长。

```cmd
cat 性能日志 | grep '时间点 | awk -F ' ' '{print $2, $5}' |.......| awk -F ' ' '{sum[$1]+=$3;count[$1]+=1}END{for(i in sum) {print i,sum[i]/count[i]}}'   
```

# 参考
1.[解Bug之路-记一次线上请求偶尔变慢的排查--awk统计了下 B系统这个小时内每分钟的平均调用时长](https://my.oschina.net/alchemystar/blog/4651051)